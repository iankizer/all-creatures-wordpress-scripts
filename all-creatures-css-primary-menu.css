
/* Mobile menu: keep parent links clickable + toggle via arrow.
   Hides submenus ONLY when JS sets .js-mm-ready on  */
@media (max-width:980px){
  /* Default (no JS): DO NOT hide anything */
  /* JS-ready state: collapse submenus */
  body.js-mm-ready #et_mobile_nav_menu .et_mobile_menu .menu-item-has-children > ul.sub-menu,
  body.js-mm-ready #mobile_menu.et_mobile_menu .menu-item-has-children > ul.sub-menu{
    display:none !important;
  }
  body.js-mm-ready #et_mobile_nav_menu .et_mobile_menu .menu-item-has-children.open > ul.sub-menu,
  body.js-mm-ready #mobile_menu.et_mobile_menu .menu-item-has-children.open > ul.sub-menu{
    display:block !important;
  }

  /* Remove Divi's pseudo-chevron to avoid dupes */
  #et_mobile_nav_menu .et_mobile_menu .menu-item-has-children > a::after,
  #mobile_menu.et_mobile_menu .menu-item-has-children > a::after{
    content:none !important;
  }

  /* Make room for the real toggle button */
  #et_mobile_nav_menu .et_mobile_menu .menu-item-has-children > a,
  #mobile_menu.et_mobile_menu .menu-item-has-children > a{
    position:relative; padding-right:48px;
  }

  /* The injected toggle button (inside the link, right side) */
  #et_mobile_nav_menu .et_mobile_menu .menu-item-has-children > a .mm-toggle,
  #mobile_menu.et_mobile_menu .menu-item-has-children > a .mm-toggle{
    position:absolute; right:8px; top:50%; transform:translateY(-50%);
    width:36px; height:36px; display:flex; align-items:center; justify-content:center;
    pointer-events:auto;
  }
  #et_mobile_nav_menu .et_mobile_menu .menu-item-has-children > a .mm-toggle::before,
  #mobile_menu.et_mobile_menu .menu-item-has-children > a .mm-toggle::before{
    content:"â–¾"; transition:transform .2s ease;
  }
  #et_mobile_nav_menu .et_mobile_menu .menu-item-has-children.open > a .mm-toggle::before,
  #mobile_menu.et_mobile_menu .menu-item-has-children.open > a .mm-toggle::before{
    transform:rotate(180deg);
  }

  /* Tidy spacing */
  #et_mobile_nav_menu .et_mobile_menu li a,
  #mobile_menu.et_mobile_menu li a{ padding:12px 16px; line-height:1.2; font-size:16px; }
}

/* (Optional) desktop-only label for menu item with class 'nolink' */
@media (min-width:981px){
  .et-menu li.nolink > a { pointer-events:none; cursor:default; }
}